<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sosyal Sigortalar Testi</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .question-box {
            margin-bottom: 25px;
            padding: 20px;
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .question-text {
            font-weight: 600;
            font-size: 1.1em;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        /* Düzeltme: Şıkların görünürlüğünü garanti altına almak için */
        .options {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: block; /* Görünür yap */
        }
        .options li {
            margin-bottom: 10px;
            display: block; /* Görünür yap */
        }
        .option-btn {
            width: 100%;
            padding: 12px;
            text-align: left;
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95em;
            color: #333; /* Metin rengi */
            display: block; /* Butonu görünür yap */
        }
        .option-btn:hover {
            background-color: #e8f4fc;
            border-color: #3498db;
        }
        .correct {
            background-color: #d4edda !important;
            border-color: #28a745 !important;
            color: #155724 !important;
        }
        .wrong {
            background-color: #f8d7da !important;
            border-color: #dc3545 !important;
            color: #721c24 !important;
        }
        .feedback {
            margin-top: 10px;
            font-size: 0.9em;
            font-weight: bold;
            display: none;
        }
        .result-box {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background-color: #2c3e50;
            color: white;
            border-radius: 8px;
            display: none;
        }
        button#finish-btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
        }
        button#finish-btn:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Sosyal Sigortalar Değerlendirme Testi</h1>
    <p style="text-align:center; color:#666;">Aşağıdaki soruları metne göre cevaplayınız.</p>

    <div id="quiz-area">
        </div>

    <button id="finish-btn" onclick="showResult()">Testi Bitir ve Sonucu Gör</button>

    <div id="result-box" class="result-box">
        <h2>Test Sonucu</h2>
        <p id="score-text"></p>
        <button onclick="location.reload()" style="padding:10px 20px; cursor:pointer; color:#333; background: #fff; border:none; border-radius:5px;">Testi Tekrar Çöz</button>
    </div>
</div>

<script>
    // Sorular Veritabanı
    const questions = [
        {
            text: "1. Sosyal sigortalar hangi toplum yapısının değişen güvenlik ihtiyaçlarına cevap vermek üzere geliştirilmiştir?",
            options: [
                "A) Tarım toplumu",
                "B) Göçebe toplum",
                "C) Sanayi toplumu",
                "D) Feodal toplum",
                "E) Bilgi toplumu"
            ],
            correct: 2 // C şıkkı (Index 2)
        },
        {
            text: "2. İlk sosyal sigortalar sistemi hangi ülkede ve kim tarafından kurulmuştur?",
            options: [
                "A) İngiltere - William Beveridge",
                "B) Almanya - Otto Von Bismarck",
                "C) Fransa - Napoleon",
                "D) ABD - Roosevelt",
                "E) İtalya - Mussolini"
            ],
            correct: 1 // B şıkkı
        },
        {
            text: "3. İngiliz William Henry Beveridge tarafından geliştirilen 'Beveridge Modeli'nin temel özelliği aşağıdakilerden hangisidir?",
            options: [
                "A) Sadece işçileri kapsaması",
                "B) Tamamen özel sigorta şirketlerince yönetilmesi",
                "C) İşveren sorumluluğunu esas alması",
                "D) Vergilerle finanse edilmesi ve primsiz asgari koruma sağlaması",
                "E) Sadece iş kazalarını kapsaması"
            ],
            correct: 3 // D şıkkı
        },
        {
            text: "4. Türkiye'de ilk sosyal sigorta kurumu (İşçi Sigortaları İdaresi) hangi yıl oluşturulmuştur?",
            options: [
                "A) 1923",
                "B) 1938",
                "C) 1945",
                "D) 1950",
                "E) 1964"
            ],
            correct: 2 // C şıkkı
        },
        {
            text: "5. Sosyal sigortaların özel sigortalardan farkı olan 'Koruma Birimi' açısından durum nedir?",
            options: [
                "A) Sosyal sigorta aileyi esas alır, özel sigorta ferdi esas alır.",
                "B) Özel sigorta aileyi esas alır, sosyal sigorta ferdi esas alır.",
                "C) Her ikisi de sadece ferdi esas alır.",
                "D) Sosyal sigortalar sadece işvereni korur.",
                "E) Özel sigortalar aileyi ücretsiz kapsama alır."
            ],
            correct: 0 // A şıkkı
        },
        {
            text: "6. Sosyal sigortalar finansman problemleri yaşadığında ne olur?",
            options: [
                "A) Kurum iflas eder ve kapanır.",
                "B) Sigortalıların hakları tamamen silinir.",
                "C) Devlet garantör olduğu için açıklar devletçe kapatılır, iflas etmez.",
                "D) Özel şirketlere devredilir.",
                "E) Sadece dış borç alınarak çözülür."
            ],
            correct: 2 // C şıkkı
        },
        {
            text: "7. Risk farklılaştırması (risk analizi) açısından sosyal sigortaların yaklaşımı nasıldır?",
            options: [
                "A) Yüksek riskli kişilerden daha yüksek prim alır.",
                "B) Yaşlı ve hastaları sigorta kapsamına almaz.",
                "C) Gelir-gider dengesi için riskli grupları dışlar.",
                "D) Risk durumu ne olursa olsun herkesi kapsar ve gelirine göre prim alır.",
                "E) Sadece genç ve sağlıklı bireyleri sigortalar."
            ],
            correct: 3 // D şıkkı
        },
        {
            text: "8. Sosyal sigortaların finansmanında 'Finansmana Katılım İlkesi' neyi ifade eder?",
            options: [
                "A) Sadece devletin vergi ödemesini",
                "B) Sadece işverenin tüm masrafları karşılamasını",
                "C) Sigortalı, işveren ve devletin (bazı durumlarda) finansmana katılımını",
                "D) Finansmanın tamamen bağışlarla sağlanmasını",
                "E) Banka kredilerinin kullanılmasını"
            ],
            correct: 2 // C şıkkı
        },
        {
            text: "9. Almanya'da kurulan ilk sigorta kolları hangi sırayla yasalaşmıştır?",
            options: [
                "A) İşsizlik - Hastalık - İş Kazası",
                "B) Hastalık (1883) - İş Kazaları (1884) - Malullük/Yaşlılık (1889)",
                "C) Yaşlılık - İşsizlik - Hastalık",
                "D) İş Kazası - Analık - Ölüm",
                "E) Analık - Hastalık - İşsizlik"
            ],
            correct: 1 // B şıkkı
        },
        {
            text: "10. Sosyal sigortaların yönetimi ile ilgili 'Özerk Yönetim İlkesi' ne demektir?",
            options: [
                "A) Yönetimin tamamen özel sektöre ait olması",
                "B) Devlet tarafından kurulmasına rağmen yönetime sosyal tarafların (işçi-işveren) da katılması",
                "C) Kurumun devletten tamamen bağımsız hareket etmesi",
                "D) Yöneticilerin sadece işçiler tarafından seçilmesi",
                "E) Kurumun uluslararası kuruluşlarca yönetilmesi"
            ],
            correct: 1 // B şıkkı
        }
    ];

    let score = 0;
    let answersGiven = 0;

    function loadQuiz() {
        const quizArea = document.getElementById("quiz-area");
        
        questions.forEach((q, index) => {
            // 1. Soru kutusunu oluştur
            const questionBox = document.createElement("div");
            questionBox.className = "question-box";
            
            // 2. Soru başlığını ekle
            const questionTitle = document.createElement("div");
            questionTitle.className = "question-text";
            questionTitle.innerText = q.text;
            questionBox.appendChild(questionTitle);

            // 3. Şıklar listesini (UL) oluştur
            const optionsList = document.createElement("ul");
            optionsList.className = "options";

            // 4. Şıkları (LI ve Button) döngü ile oluştur ve listeye ekle
            q.options.forEach((opt, optIndex) => {
                const li = document.createElement("li");
                const btn = document.createElement("button");
                btn.className = "option-btn";
                btn.innerText = opt;
                btn.onclick = function() { checkAnswer(this, optIndex, q.correct, index); };
                li.appendChild(btn);
                optionsList.appendChild(li);
            });

            // --- DÜZELTME BURADA YAPILDI ---
            // Oluşturulan şıklar listesini soru kutusuna ekle.
            questionBox.appendChild(optionsList);
            // -------------------------------

            // 5. Geri bildirim alanını ekle
            const feedback = document.createElement("div");
            feedback.className = "feedback";
            feedback.id = "feedback-" + index;
            questionBox.appendChild(feedback);

            // 6. Hazırlanan soru kutusunu ana alana ekle
            quizArea.appendChild(questionBox);
        });
    }

    function checkAnswer(btn, selectedIndex, correctIndex, questionIndex) {
        // Bu soru için butonları kilitle
        const parentLi = btn.parentElement;
        const parentUl = parentLi.parentElement;
        const buttons = parentUl.getElementsByClassName("option-btn");
        
        // Eğer zaten cevaplandıysa işlem yapma
        if (parentUl.getAttribute("data-answered") === "true") return;

        parentUl.setAttribute("data-answered", "true");
        answersGiven++;

        const feedbackDiv = document.getElementById("feedback-" + questionIndex);
        feedbackDiv.style.display = "block";

        if (selectedIndex === correctIndex) {
            btn.classList.add("correct");
            score++;
            feedbackDiv.style.color = "#155724";
            feedbackDiv.innerText = "Doğru Cevap! ✔️";
        } else {
            btn.classList.add("wrong");
            // Doğru olanı göster
            buttons[correctIndex].classList.add("correct");
            feedbackDiv.style.color = "#721c24";
            feedbackDiv.innerText = "Yanlış Cevap. Doğru seçenek: " + questions[questionIndex].options[correctIndex];
        }
    }

    function showResult() {
        if (answersGiven < questions.length) {
            if(!confirm("Hepsini cevaplamadınız. Yine de bitirmek istiyor musunuz?")) return;
        }
        
        document.getElementById("finish-btn").style.display = "none";
        document.getElementById("result-box").style.display = "block";
        document.getElementById("quiz-area").style.opacity = "0.5";
        document.getElementById("quiz-area").style.pointerEvents = "none"; // Test bittikten sonra tıklamayı engelle
        
        const scoreText = document.getElementById("score-text");
        scoreText.innerHTML = "Toplam Soru: " + questions.length + "<br>" +
                              "Doğru Sayısı: " + score + "<br>" +
                              "Başarı Oranı: %" + (score / questions.length * 100).toFixed(0);
        
        window.scrollTo(0, document.body.scrollHeight);
    }

    // Sayfa yüklendiğinde testi başlat
    window.onload = loadQuiz;

</script>

</body>
</html>
